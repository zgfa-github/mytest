
<!DOCTYPE html>  
<html>  
	<head>  
	    <meta charset="UTF-8">  
	    <title>js获取上传视频的时长</title>  
	</head>  
	<body>  
	   <video style="display:none;" controls="controls" id="aa" oncanplaythrough="myFunction(this)">
	   	
	   </video>
	   <input type="file" onchange="changeFile(this)" />
	   <br />
	   <span id="getDuration"></span>
	</body> 
	<script type="text/javascript">  
		function myFunction(ele) {
			var hour = parseInt((ele.duration)/3600);
			var minute = parseInt((ele.duration%3600)/60);
			var second = Math.ceil(ele.duration%60);
			//console.log(Math.floor(ele.duration));
			//document.write("这段视频的时长为："+hour+"小时，"+minute+"分，"+second+"秒");
			document.getElementById("getDuration").innerHTML="这段视频的时长为："+hour+"小时，"+minute+"分，"+second+"秒";
		}  
	      
		function changeFile(ele){  
		    var video = ele.files[0];  
		    var url = URL.createObjectURL(video);  
		    console.log(url);  
		    document.getElementById("aa").src = url;  
		}  
	</script>  
 
</html>  