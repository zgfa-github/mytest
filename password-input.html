<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>蒙版遮罩</title>
     <link rel="stylesheet" href="public/static/common/css/base.css">
    <link rel="stylesheet" href="public/static/common/css/public.css">
    <link rel="stylesheet" href="public/static/factory/css/main.css">
	<!--<link rel="stylesheet" href="Public/img/admin-css/common/weui.css">-->
    <!--<link rel="stylesheet" type="text/css" href="Public/css/home/mall.css">-->
    <link rel="stylesheet" href="public/static/common/js/layer.mobile/need/layer.css">
    <style>
        .payment_password_list{
            display:flex;
            display:-webkit-flex;
        }
        .payment_password_list li{
            /*float:left;*/
            width:2rem;
            border:1px solid #d9d9d9;
        }
        .payment_password_list li input{
            display:block;
            width:100%;
            text-align: center;
        }
    </style>
</head>
<body >
<div class="tl-content">
    <!--<iframe style="height: 100vh;width: 100%" frameborder="0" src="tl_iframe.html"></iframe>
    <div class="tl-shade">&nbsp;</div>
    <form></form>-->
    <div class="payment_password">
       <ul class="payment_password_list" id="wrap">
           <li class=""><input type="text" name="key1" placeholder="-" data-index=""></li>
           <li class=""><input type="text" name="key1" placeholder="-" data-index=""></li>
 
           <li class=""><input type="text" name="key1" placeholder="-" data-index=""></li>
 
           <li class=""><input type="text" name="key2" placeholder="-" data-index=""></li>
       </ul>
    </div>
</div>
<script src="public/static/common/js/jquery-1.9.1.min.js"></script>
<script>
 
    // onload = function(){
    //     var txts = wrap.getElementsByTagName("input");
    //     for(var i = 0; i<txts.length;i++){
    //         var t = txts[i];
    //         t.index = i;
    //         t.setAttribute("readonly", true);
    //         t.onkeyup=function(){
    //             this.value=this.value.replace(/^(.).*$/,'$1');
    //             var next = this.index + 1;
    //             if(next > txts.length - 1){
    //                 alert('提交');
    //                 document.getElementById("tl-pupout-text").style.display="block";
    //             }
    //             txts[next].removeAttribute("readonly");
    //             txts[next].focus();
    //         }
 
    //     }
    //     txts[0].removeAttribute("readonly");
    // }
 $(function(){
     var oLis=$('.payment_password_list input');
     for(var i = 0;i<oLis.length;i++){
         var obj=oLis[i];
        console.log(obj);
        $(obj).data('index',i);
        $(obj).attr('readonly',true);
        $(obj).on('keyup',function(){
            var _this=$(this);
            _this.val().replace(/^(.).*$/,'$1');
            var next=_this.data('index')+1;
            console.log(next);
            if(next>oLis.length-1){
                alert('12345678');
            }
            $(oLis[next]).removeAttr('readonly');
            $(oLis[next]).focus();
        });
     }
     $(oLis[0]).removeAttr('readonly');
 })
</script>
</body>
</html>